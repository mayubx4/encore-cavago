'use client';

import React, { ReactNode, forwardRef, useState } from 'react';
import './_accordion.scss';

export default forwardRef(({ body, title }: { body: ReactNode, title: string }, ref) => {
  const [open, setOpen] = useState(false);

  return (
    <section className="content-holder" ref={ref}>
      {title && (
        <span
          className="opener"
          onClick={() => setOpen(!open)}
        >
          {title}
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="10" viewBox="0 0 18 10" fill="none">
            <path d="M0.968958 8.46896L8.46896 0.96896C8.53861 0.899228 8.62133 0.843908 8.71238 0.806165C8.80343 0.768422 8.90102 0.748996 8.99958 0.748996C9.09814 0.748996 9.19574 0.768422 9.28679 0.806164C9.37784 0.843908 9.46055 0.899228 9.53021 0.96896L17.0302 8.46896C17.1709 8.60969 17.25 8.80056 17.25 8.99958C17.25 9.19861 17.1709 9.38948 17.0302 9.53021C16.8895 9.67094 16.6986 9.75 16.4996 9.75C16.3006 9.75 16.1097 9.67094 15.969 9.53021L8.99958 2.5599L2.03021 9.53021C1.96053 9.59989 1.8778 9.65517 1.78676 9.69288C1.69571 9.73059 1.59813 9.75 1.49958 9.75C1.40104 9.75 1.30346 9.73059 1.21241 9.69288C1.12137 9.65517 1.03864 9.59989 0.968958 9.53021C0.899275 9.46053 0.844002 9.3778 0.80629 9.28676C0.768578 9.19571 0.749166 9.09813 0.749166 8.99958C0.749166 8.90104 0.768577 8.80346 0.80629 8.71241C0.844002 8.62137 0.899275 8.53864 0.968958 8.46896Z" fill="#233240" />
          </svg>
        </span>
      )}
      {open && (
        <div className="slide">
          {body}
        </div>
      )}
    </section>
  );
});
